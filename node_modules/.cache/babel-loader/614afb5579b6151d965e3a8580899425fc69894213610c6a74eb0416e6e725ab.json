{"ast":null,"code":"var _jsxFileName = \"/Users/sarathjasrin/Desktop/Prema/Interview/cloud-services/src/container/home.tsx\",\n  _s = $RefreshSig$();\nimport React, { useCallback, useEffect, useState } from 'react';\nimport { allResources, getApplications, getResources, getResoucesByApplicationName } from \"../services/cloudServices\";\nimport Datatable from \"../components/DataTable\";\nimport { DEFAULT_CURRENCY } from \"../constants\";\nimport Select from 'react-select';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Home = () => {\n  _s();\n  const [data, setData] = useState([]);\n  const [application, setApplication] = useState([]);\n  const [resources, setResources] = useState([]);\n  const columns = [\n  //her\n  {\n    name: 'Service Name',\n    selector: row => row.ServiceName\n  }, {\n    name: 'Busines Unit',\n    selector: row => row.Tags['business-unit']\n  }, {\n    name: \"Resouce Group\",\n    selector: row => row.ResourceGroup\n  }, {\n    name: \"Environment\",\n    selector: row => row.Tags.environment\n  }, {\n    name: \"Cost\",\n    selector: row => DEFAULT_CURRENCY + \" \" + row.Cost,\n    sortable: true\n  }, {\n    name: \"Consumed Quantity\",\n    selector: row => row.ConsumedQuantity,\n    sortable: true\n  }, {\n    name: \"Unit Of Measure\",\n    selector: row => row.UnitOfMeasure\n  }, {\n    name: \"Location\",\n    selector: row => row.Location\n  }, {\n    name: \"Created On\",\n    selector: row => row.Date\n  }];\n  const tableProps = {\n    columns,\n    data,\n    defaultSortFieldId: 5,\n    defaultSortAsc: false\n  };\n\n  // Fetch All data\n  const fetchData = useCallback(async () => {\n    const result = await allResources().catch(error => {\n      console.error(\"failed to load resouces\", error);\n      return [];\n    });\n    setData(result);\n  }, []);\n\n  // Fetch Application name\n  const fetchApplication = useCallback(async () => {\n    const result = await getApplications().catch(error => {\n      console.error(\"failed to load Application Names\", error);\n      return [];\n    });\n    let res = [];\n    for (let i = 0; i < result.length; i++) {\n      let r = {\n        option: result[i],\n        label: result[i]\n      };\n      res.push(r);\n    }\n    setApplication(res);\n  }, []);\n\n  //Fetch Resources Name\n  const fetchResources = useCallback(async () => {\n    const result = await getResources().catch(error => {\n      console.error(\"failed to load Application Names\", error);\n      return [];\n    });\n    let res = [];\n    for (let i = 0; i < result.length; i++) {\n      let r = {\n        option: result[i],\n        label: result[i]\n      };\n      res.push(r);\n    }\n    setResources(res);\n  }, []);\n  useEffect(() => {\n    fetchData();\n    fetchApplication();\n    fetchResources();\n  }, []);\n  const changeApplication = async name => {\n    const result = await getResoucesByApplicationName(name.option).catch(error => {\n      console.error(\"failed to resurces\", error);\n      return [];\n    });\n    setData(result);\n  };\n  // do the same for other one\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"section-block\",\n      children: [/*#__PURE__*/_jsxDEV(Select, {\n        options: application,\n        className: \"applications m-r25\",\n        placeholder: \"Select Application\",\n        onChange: changeApplication\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Select, {\n        options: resources,\n        className: \"applications\",\n        placeholder: \"Select Resources\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Datatable, {\n      ...tableProps,\n      className: \"shadow-blur\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 125,\n    columnNumber: 5\n  }, this);\n};\n_s(Home, \"KAjx0ANpOIAjt6RMkLNJAtmEq8Y=\");\n_c = Home;\nexport default Home;\nvar _c;\n$RefreshReg$(_c, \"Home\");","map":{"version":3,"names":["React","useCallback","useEffect","useState","allResources","getApplications","getResources","getResoucesByApplicationName","Datatable","DEFAULT_CURRENCY","Select","jsxDEV","_jsxDEV","Home","_s","data","setData","application","setApplication","resources","setResources","columns","name","selector","row","ServiceName","Tags","ResourceGroup","environment","Cost","sortable","ConsumedQuantity","UnitOfMeasure","Location","Date","tableProps","defaultSortFieldId","defaultSortAsc","fetchData","result","catch","error","console","fetchApplication","res","i","length","r","option","label","push","fetchResources","changeApplication","children","className","options","placeholder","onChange","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/Users/sarathjasrin/Desktop/Prema/Interview/cloud-services/src/container/home.tsx"],"sourcesContent":["import React, { useCallback, useEffect, useState } from 'react';\nimport { TableProps, TableColumn } from 'react-data-table-component';\nimport { allResources, getApplications, getResources, getResoucesByApplicationName } from \"../services/cloudServices\"\nimport { resources, resourceDetail, applicationName, resourcesName } from '../models/application'\nimport { selectOption } from \"../models/common\"\nimport Datatable from \"../components/DataTable\"\nimport { DEFAULT_CURRENCY } from \"../constants\"\nimport Select from 'react-select'\n\nconst Home = () => {\n  const [data, setData] = useState<resources>([]);\n  const [application, setApplication] = useState<applicationName>([]);\n  const [resources, setResources] = useState<resourcesName>([])\n\n  const columns: TableColumn<resourceDetail>[] = [ //her\n    {\n      name: 'Service Name',\n      selector: row => row.ServiceName,\n    },\n    {\n      name: 'Busines Unit',\n      selector: row => row.Tags['business-unit'],\n    },\n    {\n      name: \"Resouce Group\",\n      selector: row => row.ResourceGroup\n    },\n    {\n      name: \"Environment\",\n      selector: row => row.Tags.environment\n    },\n    {\n      name: \"Cost\",\n      selector: row => DEFAULT_CURRENCY + \" \" + row.Cost,\n      sortable: true\n    },\n    {\n      name: \"Consumed Quantity\",\n      selector: row => row.ConsumedQuantity,\n      sortable: true\n    },\n    {\n      name: \"Unit Of Measure\",\n      selector: row => row.UnitOfMeasure\n    },\n    {\n      name: \"Location\",\n      selector: row => row.Location\n    },\n    {\n      name: \"Created On\",\n      selector: row => row.Date\n    }\n  ]\n  const tableProps: TableProps<resourceDetail> = {\n    columns,\n    data,\n    defaultSortFieldId: 5,\n    defaultSortAsc: false\n  }\n\n  // Fetch All data\n  const fetchData = useCallback(async () => {\n    const result = await allResources()\n      .catch(error => {\n        console.error(\"failed to load resouces\", error)\n        return []\n      })\n    setData(result);\n  }, []);\n\n  // Fetch Application name\n  const fetchApplication = useCallback(async () => {\n    const result = await getApplications()\n      .catch(error => {\n        console.error(\"failed to load Application Names\", error)\n        return []\n      })\n    let res = [];\n    for (let i = 0; i < result.length; i++) {\n      let r = {\n        option: result[i],\n        label: result[i]\n      }\n      res.push(r)\n    }\n    setApplication(res);\n  }, []);\n\n  //Fetch Resources Name\n  const fetchResources = useCallback(async () => {\n    const result = await getResources()\n      .catch(error => {\n        console.error(\"failed to load Application Names\", error)\n        return []\n      })\n    let res = [];\n    for (let i = 0; i < result.length; i++) {\n      let r = {\n        option: result[i],\n        label: result[i]\n      }\n      res.push(r)\n    }\n    setResources(res);\n  }, []);\n\n  useEffect(() => {\n    fetchData();\n    fetchApplication();\n    fetchResources()\n  }, []);\n\n  const changeApplication = async (name: selectOption) => {\n    const result = await getResoucesByApplicationName(name.option)\n      .catch(error => {\n        console.error(\"failed to resurces\", error)\n        return []\n      })\n    setData(result)\n  }\n// do the same for other one\n\n  return (\n    <div>\n      {/* add dropdowns here by getting application and resouces api */}\n      <div className=\"section-block\">\n        <Select options={application} className='applications m-r25' placeholder=\"Select Application\" onChange={changeApplication} />\n        <Select options={resources} className='applications' placeholder=\"Select Resources\" />\n      </div>\n      <Datatable {...tableProps} className='shadow-blur'/>\n    </div>\n  );\n};\n\nexport default Home;\n\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}